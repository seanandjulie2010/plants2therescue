<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>All Recipes | Plants 2 the Rescue</title>
  <meta
    name="description"
    content="Explore whole-food, plant-based recipes from Plants 2 the Rescue — vegan, oil-free, sugar-free options for healing and sustainable weight loss."
  />
  <meta name="theme-color" content="#2f3e46" />

  <!-- Favicons -->
  <link rel="icon" href="favicon.png" type="image/png" />
  <link rel="apple-touch-icon" href="favicon.png" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Open+Sans:wght@300;400;600&display=swap"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="style.css" />

  <style>
    /* Accessibility helper */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* NEW badge */
    .new-badge {
      display: inline-block;
      margin-left: .5rem;
      padding: .15rem .45rem;
      border-radius: 999px;
      font-size: .75rem;
      font-weight: 700;
      letter-spacing: .02em;
      background: #e63946;
      color: #fff;
      vertical-align: middle;
    }

    /* Make the search input match your site style without inline styles */
    .recipe-controls input[type="search"]{
      padding: .7rem .9rem;
      border-radius: 12px;
      border: 1px solid rgba(0,0,0,.15);
      font: inherit;
      background: rgba(255,255,255,0.85);
      backdrop-filter: blur(8px);
    }
  </style>
</head>

<body>

<a class="skip-link" href="#main">Skip to content</a>

<!-- FIX: recipes INDEX uses recipes-page (not recipe-page) -->
<main id="main" class="recipes-page">

  <header class="recipe-header">
    <h1>Plants 2 the Rescue</h1>
    <h2>All Recipes</h2>

    <!-- FIX: use tagline so your CSS centers it perfectly -->
    <p class="tagline">Whole-food, plant-based, simple nourishment.</p>

    <div style="margin-top: 1rem;">
      <a class="back-link" href="index.html">← Back to Home</a>
    </div>
  </header>

  <section aria-label="Recipe filters and recipe list">

    <div class="recipe-filters" role="tablist" aria-label="Filter recipes">
      <button class="filter-btn active" data-filter="all" aria-pressed="true">All</button>
      <button class="filter-btn" data-filter="main" aria-pressed="false">Bowls &amp; Mains</button>
      <button class="filter-btn" data-filter="breakfast" aria-pressed="false">Breakfast</button>
      <button class="filter-btn" data-filter="dessert" aria-pressed="false">Desserts</button>
      <button class="filter-btn" data-filter="snack" aria-pressed="false">Snacks &amp; Energy</button>
      <button class="filter-btn" data-filter="drink" aria-pressed="false">Drinks</button>
      <button class="filter-btn" data-filter="holiday" aria-pressed="false">Holiday</button>
    </div>

    <!-- FIX: use recipe-controls so your CSS centers the row -->
    <div class="recipe-controls">
      <label for="recipe-search" class="sr-only">Search recipes</label>
      <input
        id="recipe-search"
        type="search"
        placeholder="Search recipes…"
        autocomplete="off"
      />

      <button
        id="sort-toggle"
        type="button"
        class="filter-btn"
        aria-pressed="false"
        title="Toggle sort order"
      >
        Sort: A–Z
      </button>
    </div>

    <!-- FIX: use the class your CSS expects -->
    <p id="recipe-count" class="recipe-count"></p>

    <div class="recipe-grid" aria-live="polite">

      <!-- MAINS -->
      <a href="recipe-sweet-potato-dumplings.html" class="recipe-card" data-category="main">
        <img src="sweet-potato-dumplings.png" alt="Sweet potato dumplings" loading="lazy">
        <h3>Sweet Potato Dumplings</h3>
        <p>Comforting, tender dumplings with a naturally sweet and savory filling.</p>
      </a>

      <a href="recipe1.html" class="recipe-card" data-category="main">
        <img src="recipe1-bowl.jpg.png" alt="Rainbow Avocado Chickpea Power Bowl" loading="lazy">
        <h3>Rainbow Avocado Chickpea Power Bowl</h3>
        <p>Colorful, satisfying and packed with fiber and protein.</p>
      </a>

      <a href="recipe-potato-al-pastor.html" class="recipe-card" data-category="main">
        <img src="potato-al-pastor.png" alt="Smoky Lime Potato Al Pastor Skillet" loading="lazy">
        <h3>Smoky Lime Potato Al Pastor Skillet</h3>
        <p>Smoky, citrusy, and caramelized—bold Mexican-inspired potatoes.</p>
      </a>

      <a href="recipe-vegan-orange-spanish-rice.html" class="recipe-card" data-category="main">
        <img src="Vegan-Orange-Spanish-Rice.png" alt="Vegan Orange Spanish Rice" loading="lazy">
        <h3>Vegan Orange Spanish Rice</h3>
        <p>Spanish-style rice with Brazilian orange sunshine.</p>
      </a>

      <a href="recipe2.html" class="recipe-card" data-category="main">
        <img src="recipe2-bowl.jpg.png" alt="Hearty Lentil & Mushroom Shepherd’s Pie" loading="lazy">
        <h3>Hearty Lentil &amp; Mushroom Shepherd’s Pie</h3>
        <p>Comfort food made with wholesome, everyday ingredients.</p>
      </a>

      <a href="recipe-afghan-style-turnip-qorma.html" class="recipe-card" data-category="main">
        <img src="Afghan-Style-Turnip-Qorma.png" alt="Afghan-style turnip qorma in a patterned bowl with tomato sauce and herbs" loading="lazy">
        <h3>Afghan-Style Turnip Qorma</h3>
        <p>Slow-simmered turnips in a warming Afghan-inspired tomato and spice sauce.</p>
      </a>

      <a href="recipe-svensk-kalrotgryta.html" class="recipe-card" data-category="main">
        <img src="svensk-kalrotgryta.png" alt="Swedish rutabaga and white bean stew served with rye bread" loading="lazy">
        <h3>Svensk Kålrotgryta</h3>
        <p>Traditional-inspired Swedish rutabaga and white bean stew that is simple, nourishing, and comforting.</p>
      </a>

      <a href="recipe-mediterranean-lemon-herb-beets.html" class="recipe-card" data-category="main">
        <img src="Mediterranean-Lemon-Herb-Beets.png" alt="Mediterranean lemon-herb beets with chickpeas, greens, and whole-grain pita" loading="lazy">
        <h3>Mediterranean Lemon-Herb Beets</h3>
        <p>Bright roasted beets with chickpeas, greens, and lemon—simple, nourishing Mediterranean comfort.</p>
      </a>

      <a href="recipe-mexican-acorn-squash-lime-soup.html" class="recipe-card" data-category="main" data-new="true">
        <img src="Mexican-Acorn-Squash-Lime-Soup.png" alt="Mexican acorn squash and lime soup with avocado and radishes" loading="lazy">
        <h3>Mexican Acorn Squash &amp; Lime Soup</h3>
        <p>Cozy, Mexican-inspired acorn squash soup finished with fresh lime</p>
      </a>

      <a href="recipe-lemon-tahini-kale.html" class="recipe-card" data-category="main" data-new="true">
        <img src="Lemon-Tahini-Kale.png" alt="Lemon-tahini kale with warm chickpeas served alongside brown rice and flatbread" loading="lazy">
        <h3>Lemon–Tahini Kale with Warm Chickpeas</h3>
        <p>Bright Mediterranean kale with creamy lemon-tahini sauce and comforting chickpeas.</p>
      </a>

      <a href="recipe-east-african-collard-greens-stew.html"class="recipe-card"data-category="main"data-new="true">
        <img src="East-African–Inspired-Collard-Greens-Stew.png" alt="East African–inspired collard greens and tomato stew served with brown rice and sweet potatoes" loading="lazy">
        <h3>East African–Inspired Collard Greens &amp; Tomato Stew</h3>
        <p>A sukuma-style collard greens stew—deeply savory and beautifully simple.</p>
      </a>

      <!-- BREAKFAST & SNACKS -->
      <a href="recipe3.html" class="recipe-card" data-category="breakfast snack">
        <img src="recipe3-bowl.jpg.png" alt="Baked Apple Cinnamon Oat Cups" loading="lazy">
        <h3>Baked Apple Cinnamon Oat Cups</h3>
        <p>Perfect for breakfast or a grab-and-go snack.</p>
      </a>

      <a href="recipe-date-energy-bars.html" class="recipe-card" data-category="snack">
        <img src="Date-Energy-Bars.png" alt="Date Energy Bars" loading="lazy">
        <h3>Date Energy Bars</h3>
        <p>A simple whole-food energy bar powered by dates, oats, and nuts.</p>
      </a>

      <!-- DESSERTS -->
      <a href="recipe-lime-donuts.html" class="recipe-card" data-category="dessert">
        <img src="lime-donut.png" alt="Lime Bliss Donuts" loading="lazy">
        <h3>Lime Bliss Donuts</h3>
        <p>Baked donuts bursting with fresh lime brightness.</p>
      </a>

      <a href="lemon-cloud-cups.html" class="recipe-card" data-category="dessert">
        <img src="lemon-cloud-cups.png" alt="Lemon Cloud Cups" loading="lazy">
        <h3>Lemon Cloud Cups</h3>
        <p>Bright, creamy, and refreshing.</p>
      </a>

      <a href="recipe-indonesian-nutmeg-comfort-pudding.html" class="recipe-card" data-category="dessert">
        <img src="Indonesian-Nutmeg-Comfort-Pudding.png" alt="Nutmeg Comfort Pudding" loading="lazy">
        <h3>Indonesian Nutmeg Comfort Pudding</h3>
        <p>Warm, cozy Indonesian-inspired pudding.</p>
      </a>

      <a href="Matcha-Green-Tea-Pudding.html" class="recipe-card" data-category="dessert">
        <img src="Matcha-Pudding.png" alt="Matcha Green Tea Pudding" loading="lazy">
        <h3>Vegan Matcha Green Tea Pudding</h3>
        <p>Creamy, gently sweet matcha pudding.</p>
      </a>

      <a href="recipe-persian-walnut-cookies.html" class="recipe-card" data-category="dessert snack">
        <img src="Persian-Walnut-cookies.png" alt="Persian Walnut Cookies" loading="lazy">
        <h3>Persian Walnut &amp; Cardamom Cookies</h3>
        <p>Soft, fragrant Persian-inspired cookies.</p>
      </a>

      <a href="recipe-grapefruit-cheesecake.html" class="recipe-card" data-category="dessert">
        <img src="grapefruit-cheesecake.png" alt="Grapefruit Cheesecake" loading="lazy">
        <h3>Decadent Grapefruit Cheesecake</h3>
        <p>Bright, creamy, citrus-forward cheesecake.</p>
      </a>

      <a href="recipe-mind-blowing-lemon-dream-pie.html" class="recipe-card" data-category="dessert">
        <img src="lemon-pie.png" alt="Lemon Dream Pie" loading="lazy">
        <h3>Mind-Blowing Lemon Dream Pie</h3>
        <p>Ultra-creamy with optional nut-free version.</p>
      </a>

      <a href="recipe-mexican-butternut-squash-canela-pie.html" class="recipe-card" data-category="dessert" data-new="true">
        <img src="Mexican-Butternut-Squash-Canela-Pie.png" alt="Mexican butternut squash canela pie with chocolate drizzle" loading="lazy">
        <h3>Mexican Butternut Squash Canela Pie</h3>
        <p>Warmly spiced butternut squash pie inspired by Mexican flavors.</p>
      </a>

      <a href="recipe-mock-coconut-cream-pie.html" class="recipe-card" data-category="dessert" data-new="true">
        <img src="Mock-Coconut-Cream-Pie.png" alt="Mock coconut cream pie made with spaghetti squash, topped with whipped cream" loading="lazy">
        <h3>Mock Coconut Cream Pie</h3>
        <p>Coconut-free coconut cream pie made with spaghetti squash—creamy, comforting, and surprisingly classic.</p>
      </a>

      <!-- CAKES -->
      <a href="recipe-blood-orange-upside-down-cake.html" class="recipe-card" data-category="dessert">
        <img src="blood-orange-upsidedown-cake.png" alt="Blood Orange Cake" loading="lazy">
        <h3>Blood Orange Upside-Down Cake</h3>
        <p>Jewel-toned oranges caramelized naturally.</p>
      </a>

      <a href="recipe-persimmon-tahini-cake.html" class="recipe-card" data-category="dessert">
        <img src="persimmon-tahini-cake.png" alt="Persimmon Tahini Cake" loading="lazy">
        <h3>Persimmon–Tahini Covenant Cake</h3>
        <p>Middle Eastern–inspired, oil-free and naturally sweet.</p>
      </a>

      <a href="cranberry.html" class="recipe-card" data-category="dessert holiday">
        <img src="Cranberry.jpg" alt="Cranberry Covenant Cake" loading="lazy">
        <h3>Cranberry Covenant Cake</h3>
        <p>A tart-sweet whole-food vegan cake.</p>
      </a>

      <!-- HOLIDAY -->
      <a href="recipe-rustic-italian-chestnut-tart.html" class="recipe-card" data-category="dessert holiday">
        <img src="Rustic-Italian-Chestnut-&-Vanilla-Tart.png" alt="Chestnut Tart" loading="lazy">
        <h3>Rustic Italian Chestnut &amp; Vanilla Tart</h3>
        <p>Earthy roasted chestnuts and vanilla warmth.</p>
      </a>

      <a href="recipe-vegan-eggnog-holiday-cake.html" class="recipe-card" data-category="dessert holiday">
        <img src="Vegan-Eggnog-Holiday-Cake.png" alt="Eggnog Cake" loading="lazy">
        <h3>Vegan Eggnog Holiday Cake</h3>
        <p>Moist, cozy, warmly spiced.</p>
      </a>

      <a href="recipe-vegan-eggnog.html" class="recipe-card" data-category="drink holiday">
        <img src="Vegan-Eggnog.png" alt="Vegan Eggnog" loading="lazy">
        <h3>Sugar-Free Vegan Eggnog</h3>
        <p>Creamy, cozy, naturally sweetened.</p>
      </a>

    </div>

    <p id="no-results" style="display:none; text-align:center; margin-top:1rem; opacity:.85;">
      No recipes match this filter yet.
    </p>

  </section>
</main>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const grid = document.querySelector(".recipe-grid");
  const filterButtons = Array.from(document.querySelectorAll(".filter-btn[data-filter]"));
  const cards = Array.from(document.querySelectorAll(".recipe-card"));
  const count = document.getElementById("recipe-count");
  const noResults = document.getElementById("no-results");

  const searchInput = document.getElementById("recipe-search");
  const sortToggle = document.getElementById("sort-toggle");

  let activeFilter = "all";
  let sortDir = "asc";
  let query = "";

  function applyNewBadges() {
    cards.forEach(card => {
      const isNew = card.getAttribute("data-new") === "true";
      const titleEl = card.querySelector("h3");
      if (!titleEl) return;

      const existing = titleEl.querySelector(".new-badge");
      if (existing) existing.remove();

      if (isNew) {
        const badge = document.createElement("span");
        badge.className = "new-badge";
        badge.textContent = "NEW";
        titleEl.appendChild(badge);
      }
    });
  }

  function normalizeTitle(title) {
    return title
      .toLowerCase()
      .replace(/^(the |vegan |sugar-free |sugar free |oil-free |oil free |plant-based |whole-food |whole food )+/i, "")
      .trim();
  }

  function getTitleForSort(card) {
    const h3 = card.querySelector("h3");
    return normalizeTitle(h3 ? h3.textContent : "");
  }

  function sortCards() {
    cards.sort((a, b) => {
      const aTitle = getTitleForSort(a);
      const bTitle = getTitleForSort(b);
      const cmp = aTitle.localeCompare(bTitle);
      return sortDir === "asc" ? cmp : -cmp;
    });

    cards.forEach(c => c.remove());
    cards.forEach(c => grid.appendChild(c));
  }

  function matchesFilter(card) {
    if (activeFilter === "all") return true;
    const categories = (card.dataset.category || "").split(" ");
    return categories.includes(activeFilter);
  }

  function matchesSearch(card) {
    if (!query) return true;
    const title = (card.querySelector("h3")?.textContent || "").toLowerCase();
    const desc = (card.querySelector("p")?.textContent || "").toLowerCase();
    return (title + " " + desc).includes(query);
  }

  function render() {
    let visible = 0;

    cards.forEach(card => {
      const show = matchesFilter(card) && matchesSearch(card);
      card.style.display = show ? "" : "none";
      if (show) visible++;
    });

    count.textContent = `${visible} recipe${visible !== 1 ? "s" : ""} shown`;
    noResults.style.display = visible === 0 ? "block" : "none";
  }

  filterButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      activeFilter = btn.dataset.filter;

      filterButtons.forEach(b => {
        b.classList.remove("active");
        b.setAttribute("aria-pressed", "false");
      });

      btn.classList.add("active");
      btn.setAttribute("aria-pressed", "true");

      render();
    });
  });

  if (searchInput) {
    searchInput.addEventListener("input", (e) => {
      query = e.target.value.trim().toLowerCase();
      render();
    });
  }

  if (sortToggle) {
    sortToggle.addEventListener("click", () => {
      sortDir = sortDir === "asc" ? "desc" : "asc";
      sortToggle.textContent = sortDir === "asc" ? "Sort: A–Z" : "Sort: Z–A";
      sortToggle.setAttribute("aria-pressed", sortDir === "desc" ? "true" : "false");

      sortCards();
      render();
    });
  }

  applyNewBadges();
  sortCards();
  render();
});
</script>

<script src="cursor-glow.js"></script>

</body>
</html>
